import streamlit as st

st.set_page_config(page_title="๐ฏ ฺฉูพุดูโุณุงุฒ ููุดููุฏ", page_icon="๐")
st.title("๐ฏ ุชููุฏ ฺฉูพุดูุ ูุดุชฺฏ ู ููุณู ุจุฑ ุงุณุงุณ ูุชู ู ฺฉุดูุฑ")

# ููุถูุนุงุช ู ูุบุงุช ฺฉูุฏ
topic_keywords = {
    "ุขููุฒุด": ["ุขููุฒุด", "ุงุฏฺฏุฑ", "ุฏุฑุณ", "ููุงุฑุช", "ูฺฉุชู"],
    "ุงูฺฏุฒุด": ["ูุฏู", "ููููุช", "ูพุดุฑูุช", "ุฏุณุชุงูุฑุฏ", "ุงูฺฏุฒู"],
    "ููุฑ": ["ุทุฑุงุญ", "ููุงุด", "ุฑูฺฏ", "ุฎูุงูุช", "ุงุซุฑ"],
    "ูพุดุชโุตุญูู": ["ูพุดุชโุตุญูู", "ุณุงุฎุช", "ุชูุฑู", "ุขูุงุฏูโุณุงุฒ", "ูุฑุขูุฏ"],
    "ุณุจฺฉ ุฒูุฏฺฏ": ["ุฒูุฏฺฏ", "ุฑูุชู", "ุขุฑุงูุด", "ูุงูโุงุณุชุงู", "ุณุงูู"],
    "ุทูุฒ": ["ุดูุฎ", "ุทูุฒ", "ุฎูุฏู", "ูุจุฎูุฏ", "ุจุง ูุฒู"],
    "ูุงุดู": ["ูุงุดู", "ุฎูุฏุฑู", "ุฑุงููุฏฺฏ", "ุณุฑุนุช", "ุฌุงุฏู", "ุงุชููุจู"]
}

# ุฏุชุงุจุณ ฺฉูพุดูโูุง ู ูุดุชฺฏโูุง
caption_db = {
    "ุขููุฒุด": {
        "captions": [
            "ุงุฏฺฏุฑ ุนู ูุฏุฑุช.\nูุฑ ุฑูุฒ ู ูฺฉุชูุ ู ุฑุดุฏ.",
            "ุจุง ุขููุฒุดุ ุขูุฏูโุชู ุจุณุงุฒ.\nุฏุงูุด ููุดู ุจุงูุงุชู.",
            "ูุฑ ููุงุฑุชุ ู ุฏุฑ ุฌุฏุฏู.\nุงูุฑูุฒ ฺ ุงุฏ ฺฏุฑูุชุ",
            "ูฺฉุชู ุงูุฑูุฒ ุฑู ุงุฒ ุฏุณุช ูุฏู!\nู ุฌูููุ ู ุชุบุฑ."
        ],
        "hashtags": ["#ุขููุฒุด", "#ุงุฏฺฏุฑ", "#ุฏุงูุด", "#ููุงุฑุช", "#ุฑุดุฏ", "#education", "#learn", "#skills"]
    },
    "ุงูฺฏุฒุด": {
        "captions": [
            "ุชู ููโุชุฑ ุงุฒ ฺุฒ ฺฉู ูฺฉุฑ ูโฺฉู.\nูุฑ ูุฏูุ ู ูพุฑูุฒู.",
            "ุดฺฉุณุชุ ููุท ู ูุฏู ุจู ุฌูู.\nุงุฏุงูู ุจุฏู.",
            "ุงูุฑูุฒุช ุฑู ุจุณุงุฒ.\nูุฑุฏุง ุฎูุฏุด ูุงุฏ.",
            "ุฏุณุชุงูุฑุฏ ฺฉูฺฺฉุ ูุณุฑ ุจุฒุฑฺฏ.\nุชู ุฏุฑ ุฑุงู."
        ],
        "hashtags": ["#ุงูฺฏุฒู", "#ููููุช", "#ูพุดุฑูุช", "#ูุฏู", "#ูุซุจุช_ุงูุฏุด", "#motivation", "#success", "#growth"]
    },
    "ููุฑ": {
        "captions": [
            "ุจุง ุฑูฺฏโูุง ุญุฑู ูโุฒูู.\nูุฑ ุงุซุฑุ ู ุชฺฉู ุงุฒ ุฑูุญู.",
            "ุฎูู ุนู ุฒูุฏู ุจูุฏู.\nุฒุจุง ุชู ุณุงุฏฺฏู.",
            "ููุช ุฎูู ูโฺฉูุ ุขุฑูู ูโุด.\nุงู ุนู ููุฑ.",
            "ูุฑ ุฎุทุ ู ุฏุงุณุชุงู.\nูุฑ ุฑูฺฏุ ู ุญุณ."
        ],
        "hashtags": ["#ููุฑ", "#ุฎูุงูุช", "#ุทุฑุงุญ", "#ููุงุด", "#ุฒุจุง", "#art", "#design", "#creativity"]
    },
    "ูพุดุชโุตุญูู": {
        "captions": [
            "ูพุดุช ูุฑ ูพุณุชุ ู ุฏุงุณุชุงูู.\nูุงุฌุฑุง ุงุฒ ุงูุฌุง ุดุฑูุน ุดุฏ.",
            "ุฌุงุฏู ุงูุฌุงุณุช.\nูพุดุชโูพุฑุฏู ุฑู ุจุจู.",
            "ุชูุฑูุ ุชูุงุดุ ุชฺฉุฑุงุฑ.\nุงู ุนู ูุณุฑ ูุงูุน.",
            "ูุงูุนุช ููุดู ุฌุฐุงุจู.\nู ูฺฏุงู ูพุดุชโุตุญูู ุจูุฏุงุฒ."
        ],
        "hashtags": ["#ูพุดุช_ุตุญูู", "#ูุงูุน", "#ุชู", "#ูุฑุขูุฏ", "#ุฏุงุณุชุงู", "#behindthescenes", "#workflow", "#team"]
    },
    "ุณุจฺฉ ุฒูุฏฺฏ": {
        "captions": [
            "ุฒูุฏฺฏ ุนู ูุฐุช ุงุฒ ูุญุธูโูุง.\nุชูุงูุช ุชู ุฌุฒุฆุงุชู.",
            "ุณุจฺฉ ุฒูุฏฺฏ = ุงูุถุง ุดุฎุตุช.\nุจุง ุขุฑุงูุด ุฒูุฏฺฏ ฺฉู.",
            "ุฒูุฏฺฏ ุณุงููุ ุฐูู ุขุฑูู.\nุฑูุชูุช ุฑู ุจุณุงุฒ.",
            "ูุฑ ุงูุชุฎุงุจุ ู ุณุจฺฉ.\nุชู ุงูุชุฎุงุจ ูโฺฉู."
        ],
        "hashtags": ["#ุณุจฺฉ_ุฒูุฏฺฏ", "#ูุงู_ุงุณุชุงู", "#ุฒูุฏฺฏ_ุณุงูู", "#ุขุฑุงูุด", "#ุงูุชุฎุงุจ", "#lifestyle", "#wellness", "#routine"]
    },
    "ุทูุฒ": {
        "captions": [
            "ุงฺฏู ูุฎูุฏุฏุ ุฏูุจุงุฑู ุจุฎููุด!\nุทูุฒ ุนู ุฒุงูู ุฎูุฏูโุฏุงุฑ.",
            "ุฒูุฏฺฏ ุจุฏูู ุดูุฎุ\nุฌุฏ ูุณุช!",
            "ุดูุฎ ฺฉูฺฺฉุ ุญุงู ุฎูุจ ุจุฒุฑฺฏ.\nุจุฎูุฏุ ุฒูุฏฺฏ ฺฉูุชุงูู.",
            "ุทูุฒ ุนู ุจุงุฒ ุจุง ูุงูุนุช.\nูููโฺ ุขุณููโุชุฑ ูโุดู."
        ],
        "hashtags": ["#ุทูุฒ", "#ุดูุฎ", "#ูุจุฎูุฏ", "#ุญุงู_ุฎูุจ", "#ุฎูุฏู", "#funny", "#humor", "#smile"]
    },
    "ูุงุดู": {
        "captions": [
            "ูุงุดูุช ุญุฑู ูโุฒููุ\nฺฏูุด ุจุฏูุ ุฌุงุฏู ููุชุธุฑู.",
            "ุณุฑุนุช ุฎูุจูุ\nููุช ฺฉูุชุฑู ุฏุณุช ุชูุฆู.",
            "ูุงุดู ููุท ูุณูู ูุณุช.\nู ุญุณ ุขุฒุงุฏู.",
            "ูุฑ ุฑุงููุฏฺฏุ ู ุณูุฑู.\nูุฑ ุณูุฑุ ู ุฏุงุณุชุงู."
        ],
        "hashtags": ["#ูุงุดู", "#ุฎูุฏุฑู", "#ุฌุงุฏู", "#ุฑุงููุฏฺฏ", "#ุงุชููุจู", "#car", "#drive", "#roadtrip"]
    }
}

music_style = {
    "ุขููุฒุด": "lofi instrumental",
    "ุงูฺฏุฒุด": "motivational pop",
    "ููุฑ": "ambient classical",
    "ูพุดุชโุตุญูู": "behind the scenes chill",
    "ุณุจฺฉ ุฒูุฏฺฏ": "chill lifestyle",
    "ุทูุฒ": "fun upbeat",
    "ูุงุดู": "driving beats"
}

# ูุฑูุฏโูุง
country = st.selectbox("๐ ฺฉุดูุฑ ููุฑุฏ ูุธุฑ:", ["ุงุฑุงู", "ุชุฑฺฉู", "ุขููุงู", "ุงูุงุฑุงุช", "ุขูุฑฺฉุง"])
user_input = st.text_input("โ๏ธ ฺูุฏ ฺฉููู ุฏุฑุจุงุฑู ูพุณุชุช ุจููุณ:")
search_input = st.text_input("๐ ุฌุณุชโูุฌู ููุถูุน (ูุซูุงู 'ูุงุดู' ุง 'ุขููุฒุด'):")

# ุชุดุฎุต ููุถูุน
def detect_topic(text):
    for topic, keywords in topic_keywords.items():
        for word in keywords:
            if word in text:
                return topic
    return None

filtered_topics = [topic for topic in caption_db if search_input.lower() in topic.lower()]
selected_topic = st.selectbox("๐ ุงูุชุฎุงุจ ููุถูุน:", filtered_topics if filtered_topics else list(caption_db.keys()))
final_topic = detect_topic(user_input) if user_input else selected_topic

# ููุงุด ุฎุฑูุฌโูุง
if final_topic:
    st.success(f"ููุถูุน ุงูุชุฎุงุจโุดุฏู: {final_topic}")

    if st.button("โ๏ธ ููุงุด ฺฉูพุดูโูุง"):
        st.markdown("### โ๏ธ ฺฉูพุดูโูุง ูพุดููุงุฏ:")
        for i, caption in enumerate(caption_db[final_topic]["captions"], 1):
            st.markdown(f"*{i}.* {caption}")

    if st.button("๐ท๏ธ ููุงุด ูุดุชฺฏโูุง"):
        st.markdown("### ๐ท๏ธ ูุดุชฺฏโูุง ููุงุณุจ:")
        st.write(" ".join(caption_db[final_topic]["hashtags"]))

    if st.button("๐ต ููุงุด ููฺฉ ููุณู"):
        query = f"{music_style[final_topic]} music {country} ุฏุงูููุฏ ูุณุชูู"
        search_link = f"https://www.google.com/search?q={query.replace(' ', '+')}"
        st.markdown("### ๐ต ุขููฺฏ ูพุดููุงุฏ:")
        st.write(f"[ุฌุณุชโูุฌู ุขููฺฏ ููุงุณุจ ุฏุฑ ฺฏูฺฏู]({search_link})")
