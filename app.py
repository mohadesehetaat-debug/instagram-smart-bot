import streamlit as st

st.set_page_config(page_title="๐ฏ ฺฉูพุดูโุณุงุฒ ููุดููุฏ", page_icon="๐")
st.title("๐ฏ ุชููุฏ ฺฉูพุดูุ ูุดุชฺฏ ู ุขููฺฏ ุจุฑ ุงุณุงุณ ูุชู ู ฺฉุดูุฑ")

# ุฏุชุงุจุณ ููุถูุนุงุช ู ูุบุงุช ฺฉูุฏ
topic_keywords = {
    "ุขููุฒุด": ["ุขููุฒุด", "ุงุฏฺฏุฑ", "ุฏุฑุณ", "ููุงุฑุช", "ูฺฉุชู"],
    "ุงูฺฏุฒุด": ["ูุฏู", "ููููุช", "ูพุดุฑูุช", "ุฏุณุชุงูุฑุฏ", "ุงูฺฏุฒู"],
    "ููุฑ": ["ุทุฑุงุญ", "ููุงุด", "ุฑูฺฏ", "ุฎูุงูุช", "ุงุซุฑ"],
    "ูพุดุชโุตุญูู": ["ูพุดุชโุตุญูู", "ุณุงุฎุช", "ุชูุฑู", "ุขูุงุฏูโุณุงุฒ", "ูุฑุขูุฏ"],
    "ุณุจฺฉ ุฒูุฏฺฏ": ["ุฒูุฏฺฏ", "ุฑูุชู", "ุขุฑุงูุด", "ูุงูโุงุณุชุงู", "ุณุงูู"],
    "ุทูุฒ": ["ุดูุฎ", "ุทูุฒ", "ุฎูุฏู", "ูุจุฎูุฏ", "ุจุง ูุฒู"],
    "ูุงุดู": ["ูุงุดู", "ุฎูุฏุฑู", "ุฑุงููุฏฺฏ", "ุณุฑุนุช", "ุฌุงุฏู", "ุงุชููุจู"]
}

# ุฏุชุงุจุณ ฺฉูพุดูโูุง ู ูุดุชฺฏโูุง
caption_db = {
    "ุขููุฒุด": {
        "captions": [
            "ูุฑ ุฑูุฒ ู ูฺฉุชูุ ูุฑ ุฑูุฒ ู ุฑุดุฏ.",
            "ุงุฏฺฏุฑ ุนู ูุฏุฑุช.",
            "ุจุง ุขููุฒุดุ ุขูุฏูโุชู ุจุณุงุฒ.",
            "ูฺฉุชู ุงูุฑูุฒ ุฑู ุงุฒ ุฏุณุช ูุฏู!"
        ],
        "hashtags": ["#ุขููุฒุด", "#ุงุฏฺฏุฑ", "#ุฏุงูุด", "#ููุงุฑุช", "#ุฑุดุฏ"]
    },
    "ุงูฺฏุฒุด": {
        "captions": [
            "ุชู ููโุชุฑ ุงุฒ ฺุฒ ูุณุช ฺฉู ูฺฉุฑ ูโฺฉู.",
            "ูุฑ ุดฺฉุณุชุ ู ูุฏู ุจู ููููุชู.",
            "ุงูุฑูุฒุช ุฑู ุจุณุงุฒุ ูุฑุฏุง ุฎูุฏุด ูุงุฏ.",
            "ุฏุณุชุงูุฑุฏูุง ฺฉูฺฺฉุ ูุณุฑูุง ุจุฒุฑฺฏ ูโุณุงุฒู."
        ],
        "hashtags": ["#ุงูฺฏุฒู", "#ููููุช", "#ูพุดุฑูุช", "#ูุฏู", "#ูุซุจุช_ุงูุฏุด"]
    },
    "ููุฑ": {
        "captions": [
            "ุจุง ุฑูฺฏโูุง ุญุฑู ูโุฒูู.",
            "ูุฑ ุงุซุฑุ ู ูุทุนู ุงุฒ ุฑูุญ ูุงุณุช.",
            "ุฎูู ฺฉุฑุฏู ุนู ุฒูุฏู ุจูุฏู.",
            "ููุฑ ุนู ุฏุฏู ุฒุจุง ุฏุฑ ุณุงุฏูโุชุฑู ฺุฒูุง."
        ],
        "hashtags": ["#ููุฑ", "#ุฎูุงูุช", "#ุทุฑุงุญ", "#ููุงุด", "#ุฒุจุง"]
    },
    "ูพุดุชโุตุญูู": {
        "captions": [
            "ูพุดุช ูุฑ ูพุณุชุ ู ุฏุงุณุชุงูู.",
            "ุงูุฌุง ุฌุงุฏู ูุงูุน ุงุชูุงู ูโุงูุชู.",
            "ู ูฺฏุงู ุจู ูพุดุชโูพุฑุฏูโ ฺฉุงุฑููู ุจูุฏุงุฒ.",
            "ูุงุฌุฑุง ุงุฒ ุงูุฌุง ุดุฑูุน ุดุฏ..."
        ],
        "hashtags": ["#ูพุดุช_ุตุญูู", "#ูุงูุน", "#ุชู", "#ูุฑุขูุฏ", "#ุฏุงุณุชุงู"]
    },
    "ุณุจฺฉ ุฒูุฏฺฏ": {
        "captions": [
            "ุฒูุฏฺฏ ุนู ูุฐุช ุจุฑุฏู ุงุฒ ูุญุธูโูุง.",
            "ุณุจฺฉ ุฒูุฏฺฏ ุชูุ ุงูุถุง ุดุฎุตุชุชู.",
            "ุจุง ุงูุชุฎุงุจโูุง ฺฉูฺฺฉุ ุชูุงูุชโูุง ุจุฒุฑฺฏ ุจุณุงุฒ.",
            "ุฒูุฏฺฏ ุณุงููุ ุฐูู ุขุฑูู."
        ],
        "hashtags": ["#ุณุจฺฉ_ุฒูุฏฺฏ", "#ูุงู_ุงุณุชุงู", "#ุฒูุฏฺฏ_ุณุงูู", "#ุขุฑุงูุด", "#ุงูุชุฎุงุจ"]
    },
    "ุทูุฒ": {
        "captions": [
            "ุงฺฏู ูุฎูุฏุฏุ ุฏูุจุงุฑู ุจุฎููุด!",
            "ุฒูุฏฺฏ ุจุฏูู ุดูุฎุ ุฌุฏ ูุณุช.",
            "ู ูุจุฎูุฏ ฺฉูฺฺฉุ ู ุญุงู ุฎูุจ ุจุฒุฑฺฏ.",
            "ุทูุฒ ุนู ุฏุฏู ุฏูุง ุงุฒ ุฒุงููโ ุฎูุฏูโุฏุงุฑ."
        ],
        "hashtags": ["#ุทูุฒ", "#ุดูุฎ", "#ูุจุฎูุฏ", "#ุญุงู_ุฎูุจ", "#ุฎูุฏู"]
    },
    "ูุงุดู": {
        "captions": [
            "ููุช ูุงุดูุช ุญุฑู ูโุฒููุ ููุท ฺฏูุด ุจุฏู.",
            "ุฌุงุฏู ููุชุธุฑ ูุงุณุชุ ุจุฒู ุจุฑู!",
            "ุณุฑุนุชุ ููุท ููุช ฺฉูุชุฑูุด ุฏุณุช ุชู ุจุงุดู.",
            "ูุฑ ูพฺุ ู ูุงุฌุฑุงุฌู ุฌุฏุฏ."
        ],
        "hashtags": ["#ูุงุดู", "#ุฎูุฏุฑู", "#ุฌุงุฏู", "#ุฑุงููุฏฺฏ", "#ุงุชููุจู"]
    }
}

# ุณุจฺฉ ููุณู ูพุดููุงุฏ
music_style = {
    "ุขููุฒุด": "lofi instrumental",
    "ุงูฺฏุฒุด": "motivational pop",
    "ููุฑ": "ambient classical",
    "ูพุดุชโุตุญูู": "behind the scenes chill",
    "ุณุจฺฉ ุฒูุฏฺฏ": "chill lifestyle",
    "ุทูุฒ": "fun upbeat",
    "ูุงุดู": "driving beats"
}

# ุงูุชุฎุงุจ ฺฉุดูุฑ
country = st.selectbox("๐ ฺฉุดูุฑ ููุฑุฏ ูุธุฑ:", ["ุงุฑุงู", "ุชุฑฺฉู", "ุขููุงู", "ุงูุงุฑุงุช", "ุขูุฑฺฉุง"])

# ูุฑูุฏ ฺฉุงุฑุจุฑ
user_input = st.text_input("โ๏ธ ฺูุฏ ฺฉููู ุฏุฑุจุงุฑู ูพุณุชุช ุจููุณ:")

# ุชุดุฎุต ููุถูุน
def detect_topic(text):
    for topic, keywords in topic_keywords.items():
        for word in keywords:
            if word in text:
                return topic
    return None

# ุฌุณุชโูุฌู ููุถูุน ุฏุฑ ููู
search_input = st.text_input("๐ ุฌุณุชโูุฌู ููุถูุน (ูุซูุงู 'ุขููุฒุด' ุง 'ูุงุดู'):")
filtered_topics = [topic for topic in caption_db if search_input.lower() in topic.lower()]
selected_topic = st.selectbox("๐ ุงูุชุฎุงุจ ููุถูุน:", filtered_topics if filtered_topics else list(caption_db.keys()))

# ุงูููุช ุจุง ุชุดุฎุต ุฎูุฏฺฉุงุฑ
final_topic = detect_topic(user_input) if user_input else selected_topic

if final_topic:
    st.success(f"ููุถูุน ุงูุชุฎุงุจโุดุฏู: {final_topic}")
    st.markdown("### โ๏ธ ฺฉูพุดูโูุง ูพุดููุงุฏ:")
    for i, caption in enumerate(caption_db[final_topic]["captions"], 1):
        st.markdown(f"*{i}.* {caption}")
    st.markdown("### ๐ท๏ธ ูุดุชฺฏโูุง ููุงุณุจ:")
    st.write(" ".join(caption_db[final_topic]["hashtags"]))

    # ูพุดููุงุฏ ุขููฺฏ
    query = f"{music_style[final_topic]} music {country} site:youtube.com"
    search_link = f"https://www.google.com/search?q={query.replace(' ', '+')}"
    st.markdown("### ๐ต ุขููฺฏ ูพุดููุงุฏ:")
    st.write(f"[ุฌุณุชโูุฌู ุขููฺฏ ููุงุณุจ ุฏุฑ ฺฏูฺฏู]({search_link})")
else:
    st.warning("ููุถูุน ุชุดุฎุต ุฏุงุฏู ูุดุฏ. ูุทูุงู ุงุฒ ฺฉููุงุช ูุงุถุญโุชุฑ ุงุณุชูุงุฏู ฺฉู.")
